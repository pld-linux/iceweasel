diff -ur firefox.orig/config/autoconf.mk.in firefox/config/autoconf.mk.in
--- firefox.orig/config/autoconf.mk.in	2004-03-21 03:31:17.000000000 +0100
+++ firefox/config/autoconf.mk.in	2004-06-17 09:50:30.000000000 +0200
@@ -37,7 +37,7 @@
 mandir		= @mandir@
 idldir		= $(datadir)/idl/$(MOZ_APP_NAME)-$(MOZ_APP_VERSION)
 
-installdir	= $(libdir)/$(MOZ_APP_NAME)-$(MOZ_APP_VERSION)
+installdir	= $(libdir)/mozilla-$(MOZ_APP_NAME)
 sdkdir		= $(libdir)/$(MOZ_APP_NAME)-devel-$(MOZ_APP_VERSION)
 
 DIST		= $(DEPTH)/dist
--- mozilla/toolkit/mozapps/installer/packager.mk	2008-06-17 18:49:11.000000000 +0200
+++ mozilla/toolkit/mozapps/installer/packager.mk	2008-06-17 18:49:11.000000000 +0200
@@ -343,9 +343,9 @@
 ifdef MOZ_PKG_MANIFEST
 	$(RM) -rf $(DIST)/xpt
 	$(call PACKAGER_COPY, "$(DIST)",\
-		 "$(DIST)/$(MOZ_PKG_APPNAME)", \
+		 "$(DESTDIR)/$(MOZ_PKG_APPDIR)", \
 		"$(MOZ_PKG_MANIFEST)", "$(PKGCP_OS)", 1, 0, 1)
-	$(PERL) $(topsrcdir)/xpinstall/packager/xptlink.pl -s $(DIST) -d $(DIST)/xpt -f $(DIST)/$(MOZ_PKG_APPNAME)/components -v -x "$(XPIDL_LINK)"
+	$(PERL) $(topsrcdir)/xpinstall/packager/xptlink.pl -s $(DIST) -d $(DIST)/xpt -f $(DESTDIR)/$(MOZ_PKG_APPDIR)/components -v -x "$(XPIDL_LINK)"
 else # !MOZ_PKG_MANIFEST
 ifeq ($(MOZ_PKG_FORMAT),DMG)
 # If UNIVERSAL_BINARY, the package will be made from an already-prepared
